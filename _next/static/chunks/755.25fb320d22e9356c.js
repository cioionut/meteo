(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{4542:function(n,e,t){!function(n){"use strict";function e(e,t){var o=n.DomUtil.create("div",e,document.body),c=r(u(o),t),a=i(o,"width"),l=i(o,"height"),s=i(o,"margin-left"),p=i(o,"margin-top");return o.parentNode.removeChild(o),{Url:c[0],RetinaUrl:c[1],Size:[a,l],Anchor:[-s,-p]}}function t(e){var t=n.DomUtil.create("div",e,document.body),r=i(t,"margin-left"),o=i(t,"margin-top");return t.parentNode.removeChild(t),{Anchor:[r,o]}}function r(n,e){for(var t=/url\(['"]?([^"']*?)['"]?\)/gi,r=[],i=t.exec(n);i;)r.push(e?o(i[1]):i[1]),i=t.exec(n);return r}function o(n){return n.substr(n.lastIndexOf("/")+1)}function i(n,e){return parseInt(c(n,e),10)}function c(e,t){return n.DomUtil.getStyle(e,t)||n.DomUtil.getStyle(e,a(t))}function u(n){var e=c(n,"background-image");return e&&"none"!==e?e:c(n,"cursor")}function a(n){return n.replace(/-(\w)/g,(function(n,e){return e.toUpperCase()}))}n.Icon.Default.mergeOptions({iconUrl:null,iconRetinaUrl:null,shadowUrl:null,iconSize:null,iconAnchor:null,popupAnchor:null,tooltipAnchor:null,shadowSize:null,classNamePrefix:"leaflet-default-icon-"}),n.Icon.Default.include({_needsInit:!0,_getIconUrl:function(e){var t=this.options.imagePath||n.Icon.Default.imagePath||"";return this._needsInit&&this._initializeOptions(t),t+n.Icon.prototype._getIconUrl.call(this,e)},_initializeOptions:function(n){this._setOptions("icon",e,n),this._setOptions("shadow",e,n),this._setOptions("popup",t),this._setOptions("tooltip",t),this._needsInit=!1},_setOptions:function(n,e,t){var r=this.options,o=e(r.classNamePrefix+n,t);for(var i in o)r[n+i]=r[n+i]||o[i]}})}(t(5243))},3454:function(n,e,t){"use strict";var r,o;n.exports=(null===(r=t.g.process)||void 0===r?void 0:r.env)&&"object"===typeof(null===(o=t.g.process)||void 0===o?void 0:o.env)?t.g.process:t(7663)},755:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return N}});var r=t(5893),o=t(7294);const i=(0,o.createContext)(null),c=i.Provider;function u(){const n=(0,o.useContext)(i);if(null==n)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}var a=t(5243);function l(){return l=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},l.apply(this,arguments)}function s(n){let{children:e,className:t,id:r,placeholder:i,style:u,whenCreated:s,...p}=n;const f=(0,o.useRef)(null),d=function(n,e){const[t,r]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(null!==n.current&&null===t){const t=new a.Map(n.current,e);null!=e.center&&null!=e.zoom?t.setView(e.center,e.zoom):null!=e.bounds&&t.fitBounds(e.bounds,e.boundsOptions),null!=e.whenReady&&t.whenReady(e.whenReady),r(t)}}),[n,t,e]),t}(f,p),h=(0,o.useRef)(!1);(0,o.useEffect)((()=>{null!=d&&!1===h.current&&null!=s&&(h.current=!0,s(d))}),[d,s]),(0,o.useEffect)((()=>()=>{null==d||d.remove()}),[d]);const[m]=(0,o.useState)({className:t,id:r,style:u}),v=(0,o.useMemo)((()=>d?{__version:1,map:d}:null),[d]),y=v?o.createElement(c,{value:v},e):i??null;return o.createElement("div",l({},m,{ref:f}),y)}function p(n,e){return null==e?function(e,t){return(0,o.useRef)(n(e,t))}:function(t,r){const i=(0,o.useRef)(n(t,r)),c=(0,o.useRef)(t),{instance:u}=i.current;return(0,o.useEffect)((function(){c.current!==t&&(e(u,t,c.current),c.current=t)}),[u,t,r]),i}}var f=t(3935);function d(n){function e(e,t){const{instance:r,context:i}=n(e).current;return(0,o.useImperativeHandle)(t,(()=>r)),null==e.children?null:o.createElement(c,{value:i},e.children)}return(0,o.forwardRef)(e)}const h=p((function(n,e){let{children:t,...r}=n;const o=new a.Control.Layers(void 0,void 0,r);return{instance:o,context:{...e,layersControl:o}}}),(function(n,e,t){e.collapsed!==t.collapsed&&(!0===e.collapsed?n.collapse():n.expand())}));var m;const v=d((m=h,function(n){const e=u(),t=m(n,e),{instance:r}=t.current,i=(0,o.useRef)(n.position),{position:c}=n;return(0,o.useEffect)((function(){return r.addTo(e.map),function(){r.remove()}}),[e.map,r]),(0,o.useEffect)((function(){null!=c&&c!==i.current&&(r.setPosition(c),i.current=c)}),[r,c]),t}));function y(n){return function(e){const t=u(),r=(0,o.useRef)(e),[i,a]=(0,o.useState)(null),{layersControl:l,map:s}=t,p=(0,o.useCallback)((e=>{null!=l&&(r.current.checked&&s.addLayer(e),n(l,e,r.current.name),a(e))}),[l,s]),f=(0,o.useCallback)((n=>{null==l||l.removeLayer(n),a(null)}),[l]),d=(0,o.useMemo)((()=>({...t,layerContainer:{addLayer:p,removeLayer:f}})),[t,p,f]);return(0,o.useEffect)((()=>{null!==i&&r.current!==e&&(!0!==e.checked||null!=r.current.checked&&!1!==r.current.checked?!0!==r.current.checked||null!=e.checked&&!1!==e.checked||s.removeLayer(i):s.addLayer(i),r.current=e)})),e.children?o.createElement(c,{value:d},e.children):null}}function w(n,e){const t=(0,o.useRef)(e);(0,o.useEffect)((function(){e!==t.current&&null!=n.attributionControl&&(null!=t.current&&n.attributionControl.removeAttribution(t.current),null!=e&&n.attributionControl.addAttribution(e)),t.current=e}),[n,e])}function g(n,e){const t=(0,o.useRef)();(0,o.useEffect)((function(){return null!=e&&n.instance.on(e),t.current=e,function(){null!=t.current&&n.instance.off(t.current),t.current=null}}),[n,e])}function x(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function _(n){return function(e){const t=u(),r=n(x(e,t),t);return w(t.map,e.attribution),g(r.current,e.eventHandlers),function(n,e){(0,o.useEffect)((function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){var t;null==(t=e.layerContainer)||t.removeLayer(n.instance),e.map.removeLayer(n.instance)}}),[e,n])}(r.current,t),r}}function b(n,e){const t=function(n,e){return function(t,r){const o=u(),i=n(x(t,o),o);return w(o.map,t.attribution),g(i.current,t.eventHandlers),e(i.current,o,t,r),i}}(p(n),e);return function(n){function e(e,t){const[r,i]=(0,o.useState)(!1),{instance:c}=n(e,i).current;(0,o.useImperativeHandle)(t,(()=>c)),(0,o.useEffect)((function(){r&&c.update()}),[c,r,e.children]);const u=c._contentNode;return u?(0,f.createPortal)(e.children,u):null}return(0,o.forwardRef)(e)}(t)}v.BaseLayer=y((function(n,e,t){n.addBaseLayer(e,t)})),v.Overlay=y((function(n,e,t){n.addOverlay(e,t)}));const C=function(n){function e(e,t){const{instance:r}=n(e).current;return(0,o.useImperativeHandle)(t,(()=>r)),null}return(0,o.forwardRef)(e)}(_(p((function(n,e){let{url:t,...r}=n;return{instance:new a.TileLayer(t,x(r,e)),context:e}}),(function(n,e,t){const{opacity:r,zIndex:o}=e;null!=r&&r!==t.opacity&&n.setOpacity(r),null!=o&&o!==t.zIndex&&n.setZIndex(o)}))));const T=function(n,e){return d(_(p(n,e)))}((function(n,e){let{position:t,...r}=n;const o=new a.Marker(t,r);return{instance:o,context:{...e,overlayContainer:o}}}),(function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),null!=e.icon&&e.icon!==t.icon&&n.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),null!=n.dragging&&e.draggable!==t.draggable&&(!0===e.draggable?n.dragging.enable():n.dragging.disable())})),O=b((function(n,e){return{instance:new a.Popup(n,e.overlayContainer),context:e}}),(function(n,e,t,r){const{onClose:i,onOpen:c,position:u}=t;(0,o.useEffect)((function(){const{instance:t}=n;function o(n){n.popup===t&&(t.update(),r(!0),null==c||c())}function a(n){n.popup===t&&(r(!1),null==i||i())}return e.map.on({popupopen:o,popupclose:a}),null==e.overlayContainer?(null!=u&&t.setLatLng(u),t.openOn(e.map)):e.overlayContainer.bindPopup(t),function(){var n;e.map.off({popupopen:o,popupclose:a}),null==(n=e.overlayContainer)||n.unbindPopup(),e.map.removeLayer(t)}}),[n,e,r,i,c,u])})),E=b((function(n,e){return{instance:new a.Tooltip(n,e.overlayContainer),context:e}}),(function(n,e,t,r){const{onClose:i,onOpen:c,position:u}=t;(0,o.useEffect)((function(){const t=e.overlayContainer;if(null==t)return;const{instance:o}=n,a=n=>{n.tooltip===o&&(u&&o.setLatLng(u),o.update(),r(!0),null==c||c())},l=n=>{n.tooltip===o&&(r(!1),null==i||i())};return t.on({tooltipopen:a,tooltipclose:l}),t.bindTooltip(o),function(){t.off({tooltipopen:a,tooltipclose:l}),null!=t._map&&t.unbindTooltip()}}),[n,e,r,i,c,u])}));function L(){return u().map}function I(n){let{children:e}=n;return e(L())}t(4542);var k=t(700),j=t(22),z=t.n(j),R=t(3454);function N(n){var e,t=n.location,o=n.weatherData,i=(n.wdError,n.zoom),c=void 0===i?11:i,u=R.env.NEXT_PUBLIC_OPENWEATHER_API_KEY,a='&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> | &copy; <a href="https://openweathermap.org/">OpenWeather</a>',l=[parseFloat(t.latitude),parseFloat(t.longitude)],p="wi wi-day-sunny";if(o){e=o.list[0];var f=new Date,d=new Date(f.getTime()+6e4*f.getTimezoneOffset()),h=new Date(1e3*o.city.sunrise),m=new Date(1e3*o.city.sunset);p=d>h&&d<m?"wi wi-owm-day-".concat(e.weather[0].id):"wi wi-owm-night-".concat(e.weather[0].id)}return(0,r.jsxs)(s,{className:z().mapContainer,center:l,zoom:c,scrollWheelZoom:!1,children:[(0,r.jsxs)(v,{position:"topright",children:[(0,r.jsx)(v.BaseLayer,{name:"OpenStreetMap.BlackAndWhite",children:(0,r.jsx)(C,{attribution:a,url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"})}),(0,r.jsx)(v.BaseLayer,{checked:!0,name:"OpenStreetMap.Mapnik",children:(0,r.jsx)(C,{attribution:a,url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),["clouds_new","precipitation_new","pressure_new","wind_new","temp_new"].map((function(n,e){return(0,r.jsx)(v.Overlay,{name:n,children:(0,r.jsx)(C,{attribution:a,url:"https://tile.openweathermap.org/map/".concat(n,"/{z}/{x}/{y}.png?appid=").concat(u)})},e)}))]}),(0,r.jsxs)(T,{position:l,children:[e&&(0,r.jsxs)(O,{children:[(0,r.jsx)("span",{className:"".concat(z().mainTempMarker),children:(0,r.jsx)(k.Z,{value:e.main.temp})}),"\xa0",(0,r.jsx)("i",{className:"".concat(p," ").concat(z().weatherIcon)}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:z().mainConditionsFont,children:e.weather[0].description})]}),e&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(E,{direction:"top",offset:[-10,20],permanent:!0,className:z().mapTooltip,children:(0,r.jsx)("img",{src:"/weather_icons_new/".concat(e.weather[0].icon,".svg"),alt:e.weather[0].description,width:60,height:60})})})]}),(0,r.jsx)(I,{children:function(n){return n.flyTo(l),null}})]})}},22:function(n){n.exports={mapContainer:"weathermap_mapContainer__o1Gvn",mapTooltip:"weathermap_mapTooltip__a95fR",weatherIcon:"weathermap_weatherIcon__6bGwi",mainTempFont:"weathermap_mainTempFont__HF_9X",mainTempMarker:"weathermap_mainTempMarker__xOMyy",mainConditionsFont:"weathermap_mainConditionsFont__rE7ni"}},7663:function(n){!function(){var e={162:function(n){var e,t,r=n.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(n){if(e===setTimeout)return setTimeout(n,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(n,0);try{return e(n,0)}catch(r){try{return e.call(null,n,0)}catch(r){return e.call(this,n,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:o}catch(n){e=o}try{t="function"===typeof clearTimeout?clearTimeout:i}catch(n){t=i}}();var u,a=[],l=!1,s=-1;function p(){l&&u&&(l=!1,u.length?a=u.concat(a):s=-1,a.length&&f())}function f(){if(!l){var n=c(p);l=!0;for(var e=a.length;e;){for(u=a,a=[];++s<e;)u&&u[s].run();s=-1,e=a.length}u=null,l=!1,function(n){if(t===clearTimeout)return clearTimeout(n);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(n);try{t(n)}catch(e){try{return t.call(null,n)}catch(e){return t.call(this,n)}}}(n)}}function d(n,e){this.fun=n,this.array=e}function h(){}r.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];a.push(new d(n,e)),1!==a.length||l||c(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(n){return[]},r.binding=function(n){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(n){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}},c=!0;try{e[n](i,i.exports,r),c=!1}finally{c&&delete t[n]}return i.exports}r.ab="//";var o=r(162);n.exports=o}()}}]);